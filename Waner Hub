-- WENER HUB v4.0 | ULTIMATE COMPLETE EDITION - MANUAL UI + ALL FEATURES
print("=== WENER HUB v4.0 ULTIMATE COMPLETE - MANUAL + RAYFIELD FALLBACK ===")
print("üöÄ Loading complete system with ALL features + Manual UI fallback...")

-- ============================================================================
-- SERVICES & INITIALIZATION
-- ============================================================================

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local TweenService = game:GetService("TweenService")
local ReplicatedStorage = game:GetService("ReplicatedStorage")
local Lighting = game:GetService("Lighting")
local UserInputService = game:GetService("UserInputService")
local TeleportService = game:GetService("TeleportService")
local CoreGui = game:GetService("CoreGui")
local SoundService = game:GetService("SoundService")
local HttpService = game:GetService("HttpService")
local player = Players.LocalPlayer

-- Wait for character properly
repeat task.wait() until player.Character and player.Character:FindFirstChild("HumanoidRootPart")

-- ============================================================================
-- GLOBAL VARIABLES FOR ALL FEATURES
-- ============================================================================

local espObjects = {}
local currentSpeed = 16
local godModeEnabled = false
local noclipEnabled = false
local doorEspEnabled = false
local keyEspEnabled = false
local entityEspEnabled = false
local playerEspEnabled = false
local itemEspEnabled = false
local bookEspEnabled = false
local autoCollectEnabled = false
local autoUnlockEnabled = false
local infVitaminsEnabled = false
local rushNotifEnabled = false
local allEntityNotifications = false
local bypassAntiCheat = false
local fullBrightEnabled = false
local noSeekEnabled = false
local instantInteractEnabled = false
local autoProximityEnabled = false

local noclipConnection
local autoCollectConnection
local autoUnlockConnection
local infVitaminsConnection
local entityConnections = {}
local godModeConnections = {}
local bypassConnections = {}
local autoProximityConnection

local MainWindow = nil
local isManualUI = false

-- Auto Proximity Settings
local proximityBlacklist = {
    "wardrobe", "closet", "locker", "bed", "drawer", "dresser", "cabinet", 
    "table", "hide", "storage", "furniture", "container"
}

-- Auto Collect Settings
local autoCollectSettings = {
    ["Vitamins"] = true,
    ["Lockpick"] = true,
    ["Key"] = true,
    ["Flashlight"] = true,
    ["Lighter"] = true,
    ["Candle"] = true,
    ["Crucifix"] = true,
    ["Bandage"] = true,
    ["SkeletonKey"] = true,
    ["Book"] = true
}

-- ============================================================================
-- LOADING SCREEN SYSTEM
-- ============================================================================

local function createLoadingScreen()
    local LoadingGui = Instance.new("ScreenGui")
    LoadingGui.Name = "WenerUltimateLoading"
    LoadingGui.ResetOnSpawn = false
    LoadingGui.Parent = CoreGui
    LoadingGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
    
    local LoadingFrame = Instance.new("Frame")
    LoadingFrame.Size = UDim2.new(1, 0, 1, 0)
    LoadingFrame.Position = UDim2.new(0, 0, 0, 0)
    LoadingFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    LoadingFrame.BackgroundTransparency = 0.2
    LoadingFrame.BorderSizePixel = 0
    LoadingFrame.ZIndex = 99999
    LoadingFrame.Parent = LoadingGui
    
    local MainLoadFrame = Instance.new("Frame")
    MainLoadFrame.Size = UDim2.new(0, 600, 0, 400)
    MainLoadFrame.Position = UDim2.new(0.5, -300, 0.5, -200)
    MainLoadFrame.BackgroundColor3 = Color3.fromRGB(15, 15, 25)
    MainLoadFrame.BorderSizePixel = 0
    MainLoadFrame.ZIndex = 100000
    MainLoadFrame.Parent = LoadingFrame
    
    local Corner = Instance.new("UICorner")
    Corner.CornerRadius = UDim.new(0, 25)
    Corner.Parent = MainLoadFrame
    
    local Gradient = Instance.new("UIGradient")
    Gradient.Color = ColorSequence.new({
        ColorSequenceKeypoint.new(0, Color3.fromRGB(139, 0, 255)),
        ColorSequenceKeypoint.new(0.3, Color3.fromRGB(15, 15, 25)),
        ColorSequenceKeypoint.new(0.7, Color3.fromRGB(15, 15, 25)),
        ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 0, 139))
    })
    Gradient.Rotation = 45
    Gradient.Parent = MainLoadFrame
    
    local Logo = Instance.new("TextLabel")
    Logo.Size = UDim2.new(1, -40, 0, 100)
    Logo.Position = UDim2.new(0, 20, 0, 20)
    Logo.BackgroundTransparency = 1
    Logo.Text = "üéÆ WENER HUB v4.0"
    Logo.TextColor3 = Color3.fromRGB(255, 255, 255)
    Logo.Font = Enum.Font.GothamBold
    Logo.TextSize = 48
    Logo.TextStrokeTransparency = 0
    Logo.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
    Logo.ZIndex = 100001
    Logo.Parent = MainLoadFrame
    
    local Subtitle = Instance.new("TextLabel")
    Subtitle.Size = UDim2.new(1, -40, 0, 50)
    Subtitle.Position = UDim2.new(0, 20, 0, 120)
    Subtitle.BackgroundTransparency = 1
    Subtitle.Text = "ULTIMATE COMPLETE EDITION"
    Subtitle.TextColor3 = Color3.fromRGB(200, 200, 200)
    Subtitle.Font = Enum.Font.Gotham
    Subtitle.TextSize = 24
    Subtitle.ZIndex = 100001
    Subtitle.Parent = MainLoadFrame
    
    local Features = Instance.new("TextLabel")
    Features.Size = UDim2.new(1, -40, 0, 80)
    Features.Position = UDim2.new(0, 20, 0, 180)
    Features.BackgroundTransparency = 1
    Features.Text = "‚ú® All Features + Manual UI Fallback\nüéØ Smart Auto Proximity + Complete ESP\nü§ñ Advanced Automation + Entity Detection\nüì± Mobile & Desktop Compatible"
    Features.TextColor3 = Color3.fromRGB(180, 180, 180)
    Features.Font = Enum.Font.Gotham
    Features.TextSize = 16
    Features.TextWrapped = true
    Features.ZIndex = 100001
    Features.Parent = MainLoadFrame
    
    local LoadingText = Instance.new("TextLabel")
    LoadingText.Size = UDim2.new(1, -40, 0, 30)
    LoadingText.Position = UDim2.new(0, 20, 0, 280)
    LoadingText.BackgroundTransparency = 1
    LoadingText.Text = "üîÑ Initializing ultimate systems..."
    LoadingText.TextColor3 = Color3.fromRGB(255, 255, 255)
    LoadingText.Font = Enum.Font.Gotham
    LoadingText.TextSize = 18
    LoadingText.ZIndex = 100001
    LoadingText.Parent = MainLoadFrame
    
    local ProgressBar = Instance.new("Frame")
    ProgressBar.Size = UDim2.new(0.85, 0, 0, 8)
    ProgressBar.Position = UDim2.new(0.075, 0, 0, 330)
    ProgressBar.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    ProgressBar.BorderSizePixel = 0
    ProgressBar.ZIndex = 100001
    ProgressBar.Parent = MainLoadFrame
    
    local ProgressCorner = Instance.new("UICorner")
    ProgressCorner.CornerRadius = UDim.new(1, 0)
    ProgressCorner.Parent = ProgressBar
    
    local ProgressFill = Instance.new("Frame")
    ProgressFill.Size = UDim2.new(0, 0, 1, 0)
    ProgressFill.Position = UDim2.new(0, 0, 0, 0)
    ProgressFill.BackgroundColor3 = Color3.fromRGB(139, 0, 255)
    ProgressFill.BorderSizePixel = 0
    ProgressFill.ZIndex = 100002
    ProgressFill.Parent = ProgressBar
    
    local ProgressFillCorner = Instance.new("UICorner")
    ProgressFillCorner.CornerRadius = UDim.new(1, 0)
    ProgressFillCorner.Parent = ProgressFill
    
    local VersionInfo = Instance.new("TextLabel")
    VersionInfo.Size = UDim2.new(1, -40, 0, 30)
    VersionInfo.Position = UDim2.new(0, 20, 0, 360)
    VersionInfo.BackgroundTransparency = 1
    VersionInfo.Text = "Made by Wener Team | Complete System | Works on All Executors"
    VersionInfo.TextColor3 = Color3.fromRGB(120, 120, 120)
    VersionInfo.Font = Enum.Font.Gotham
    VersionInfo.TextSize = 14
    VersionInfo.ZIndex = 100001
    VersionInfo.Parent = MainLoadFrame
    
    -- Loading animation with detailed steps
    task.spawn(function()
        local loadingSteps = {
            {text = "üîÑ Initializing core systems...", progress = 0.05},
            {text = "üîß Loading game services...", progress = 0.15},
            {text = "üéØ Setting up Auto Proximity system...", progress = 0.25},
            {text = "üëÅÔ∏è Preparing advanced ESP system...", progress = 0.35},
            {text = "ü§ñ Loading automation features...", progress = 0.45},
            {text = "üëπ Setting up entity detection...", progress = 0.55},
            {text = "üîî Configuring notification system...", progress = 0.65},
            {text = "üé® Testing Rayfield compatibility...", progress = 0.75},
            {text = "üõ†Ô∏è Creating manual UI fallback...", progress = 0.85},
            {text = "‚úÖ Finalizing all systems...", progress = 0.95},
            {text = "üéâ Ready to launch ultimate hub!", progress = 1.0}
        }
        
        for _, step in ipairs(loadingSteps) do
            LoadingText.Text = step.text
            
            TweenService:Create(ProgressFill, TweenInfo.new(0.8, Enum.EasingStyle.Quad), {
                Size = UDim2.new(step.progress, 0, 1, 0)
            }):Play()
            
            task.wait(1.2)
        end
        
        task.wait(1)
        
        -- Fade out loading screen
        TweenService:Create(LoadingFrame, TweenInfo.new(1, Enum.EasingStyle.Quad), {
            BackgroundTransparency = 1
        }):Play()
        
        TweenService:Create(MainLoadFrame, TweenInfo.new(1, Enum.EasingStyle.Back), {
            Position = UDim2.new(0.5, -300, -1, -200),
            BackgroundTransparency = 1
        }):Play()
        
        task.wait(1)
        LoadingGui:Destroy()
    end)
    
    return LoadingGui
end

-- ============================================================================
-- ADVANCED NOTIFICATION SYSTEM
-- ============================================================================

local function createAdvancedNotification(title, message, color, duration, sound)
    local NotifGui = Instance.new("ScreenGui")
    NotifGui.Name = "WenerUltimateNotification"
    NotifGui.ResetOnSpawn = false
    NotifGui.Parent = CoreGui
    NotifGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
    
    local NotificationFrame = Instance.new("Frame")
    NotificationFrame.Size = UDim2.new(0, 450, 0, 140)
    NotificationFrame.Position = UDim2.new(1, 20, 0, 100)
    NotificationFrame.BackgroundColor3 = Color3.fromRGB(15, 15, 25)
    NotificationFrame.BorderSizePixel = 0
    NotificationFrame.ZIndex = 99999
    NotificationFrame.Parent = NotifGui
    
    local Corner = Instance.new("UICorner")
    Corner.CornerRadius = UDim.new(0, 18)
    Corner.Parent = NotificationFrame
    
    local Stroke = Instance.new("UIStroke")
    Stroke.Color = color
    Stroke.Thickness = 3
    Stroke.Parent = NotificationFrame
    
    local Gradient = Instance.new("UIGradient")
    Gradient.Color = ColorSequence.new({
        ColorSequenceKeypoint.new(0, color),
        ColorSequenceKeypoint.new(0.5, Color3.fromRGB(15, 15, 25)),
        ColorSequenceKeypoint.new(1, Color3.new(color.R * 0.3, color.G * 0.3, color.B * 0.3))
    })
    Gradient.Rotation = 90
    Gradient.Parent = NotificationFrame
    
    local IconFrame = Instance.new("Frame")
    IconFrame.Size = UDim2.new(0, 60, 0, 60)
    IconFrame.Position = UDim2.new(0, 15, 0, 15)
    IconFrame.BackgroundColor3 = color
    IconFrame.BorderSizePixel = 0
    IconFrame.ZIndex = 100000
    IconFrame.Parent = NotificationFrame
    
    local IconCorner = Instance.new("UICorner")
    IconCorner.CornerRadius = UDim.new(0, 15)
    IconCorner.Parent = IconFrame
    
    local IconLabel = Instance.new("TextLabel")
    IconLabel.Size = UDim2.new(1, 0, 1, 0)
    IconLabel.BackgroundTransparency = 1
    IconLabel.Text = title:sub(1, 2) -- First 2 characters as icon
    IconLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    IconLabel.Font = Enum.Font.GothamBold
    IconLabel.TextSize = 24
    IconLabel.ZIndex = 100001
    IconLabel.Parent = IconFrame
    
    local TitleLabel = Instance.new("TextLabel")
    TitleLabel.Size = UDim2.new(0, 350, 0, 40)
    TitleLabel.Position = UDim2.new(0, 90, 0, 15)
    TitleLabel.BackgroundTransparency = 1
    TitleLabel.Text = title
    TitleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    TitleLabel.Font = Enum.Font.GothamBold
    TitleLabel.TextSize = 20
    TitleLabel.TextXAlignment = Enum.TextXAlignment.Left
    TitleLabel.TextStrokeTransparency = 0.5
    TitleLabel.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
    TitleLabel.ZIndex = 100000
    TitleLabel.Parent = NotificationFrame
    
    local MessageLabel = Instance.new("TextLabel")
    MessageLabel.Size = UDim2.new(0, 350, 0, 80)
    MessageLabel.Position = UDim2.new(0, 90, 0, 55)
    MessageLabel.BackgroundTransparency = 1
    MessageLabel.Text = message
    MessageLabel.TextColor3 = Color3.fromRGB(200, 200, 200)
    MessageLabel.Font = Enum.Font.Gotham
    MessageLabel.TextSize = 16
    MessageLabel.TextWrapped = true
    MessageLabel.TextXAlignment = Enum.TextXAlignment.Left
    MessageLabel.TextYAlignment = Enum.TextYAlignment.Top
    MessageLabel.ZIndex = 100000
    MessageLabel.Parent = NotificationFrame
    
    local TimeLabel = Instance.new("TextLabel")
    TimeLabel.Size = UDim2.new(0, 100, 0, 20)
    TimeLabel.Position = UDim2.new(1, -110, 0, 10)
    TimeLabel.BackgroundTransparency = 1
    TimeLabel.Text = os.date("%H:%M:%S")
    TimeLabel.TextColor3 = Color3.fromRGB(150, 150, 150)
    TimeLabel.Font = Enum.Font.Gotham
    TimeLabel.TextSize = 12
    TimeLabel.ZIndex = 100000
    TimeLabel.Parent = NotificationFrame
    
    -- Sound effect
    if sound then
        pcall(function()
            local soundEffect = Instance.new("Sound")
            soundEffect.SoundId = "rbxassetid://131961136"
            soundEffect.Volume = 0.3
            soundEffect.Parent = NotifGui
            soundEffect:Play()
            
            soundEffect.Ended:Connect(function()
                soundEffect:Destroy()
            end)
        end)
    end
    
    -- Slide in animation
    TweenService:Create(NotificationFrame, TweenInfo.new(0.7, Enum.EasingStyle.Back, Enum.EasingDirection.Out), {
        Position = UDim2.new(1, -470, 0, 100)
    }):Play()
    
    -- Icon pulse animation
    task.spawn(function()
        while IconFrame.Parent do
            TweenService:Create(IconFrame, TweenInfo.new(1, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut, -1, true), {
                Size = UDim2.new(0, 65, 0, 65)
            }):Play()
            task.wait(1)
        end
    end)
    
    -- Auto remove
    task.spawn(function()
        task.wait(duration or 6)
        
        TweenService:Create(NotificationFrame, TweenInfo.new(0.7, Enum.EasingStyle.Quad, Enum.EasingDirection.In), {
            Position = UDim2.new(1, 20, 0, 100),
            BackgroundTransparency = 1
        }):Play()
        
        TweenService:Create(TitleLabel, TweenInfo.new(0.7), {TextTransparency = 1}):Play()
        TweenService:Create(MessageLabel, TweenInfo.new(0.7), {TextTransparency = 1}):Play()
        TweenService:Create(IconFrame, TweenInfo.new(0.7), {BackgroundTransparency = 1}):Play()
        TweenService:Create(IconLabel, TweenInfo.new(0.7), {TextTransparency = 1}):Play()
        
        task.wait(0.7)
        NotifGui:Destroy()
    end)
    
    return NotifGui
end

-- ============================================================================
-- CORNER LOGO WITH STATUS
-- ============================================================================

local function createCornerLogo()
    local LogoGui = Instance.new("ScreenGui")
    LogoGui.Name = "WenerUltimateCornerLogo"
    LogoGui.ResetOnSpawn = false
    LogoGui.Parent = CoreGui
    LogoGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
    
    local LogoFrame = Instance.new("Frame")
    LogoFrame.Size = UDim2.new(0, 280, 0, 80)
    LogoFrame.Position = UDim2.new(1, -290, 0, 10)
    LogoFrame.BackgroundColor3 = Color3.fromRGB(15, 15, 25)
    LogoFrame.BackgroundTransparency = 0.1
    LogoFrame.BorderSizePixel = 0
    LogoFrame.ZIndex = 99999
    LogoFrame.Parent = LogoGui
    
    local Corner = Instance.new("UICorner")
    Corner.CornerRadius = UDim.new(0, 15)
    Corner.Parent = LogoFrame
    
    local Stroke = Instance.new("UIStroke")
    Stroke.Color = Color3.fromRGB(139, 0, 255)
    Stroke.Thickness = 3
    Stroke.Parent = LogoFrame
    
    local Gradient = Instance.new("UIGradient")
    Gradient.Color = ColorSequence.new({
        ColorSequenceKeypoint.new(0, Color3.fromRGB(139, 0, 255)),
        ColorSequenceKeypoint.new(0.5, Color3.fromRGB(15, 15, 25)),
        ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 0, 139))
    })
    Gradient.Rotation = 45
    Gradient.Parent = LogoFrame
    
    local MainText = Instance.new("TextLabel")
    MainText.Size = UDim2.new(1, -15, 0, 35)
    MainText.Position = UDim2.new(0, 10, 0, 5)
    MainText.BackgroundTransparency = 1
    MainText.Text = "üéÆ WENER HUB v4.0 ULTIMATE"
    MainText.TextColor3 = Color3.fromRGB(255, 255, 255)
    MainText.Font = Enum.Font.GothamBold
    MainText.TextSize = 16
    MainText.TextXAlignment = Enum.TextXAlignment.Left
    MainText.TextStrokeTransparency = 0.5
    MainText.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
    MainText.ZIndex = 100000
    MainText.Parent = LogoFrame
    
    local SubText = Instance.new("TextLabel")
    SubText.Size = UDim2.new(1, -15, 0, 20)
    SubText.Position = UDim2.new(0, 10, 0, 35)
    SubText.BackgroundTransparency = 1
    SubText.Text = "Complete Edition - All Features Active"
    SubText.TextColor3 = Color3.fromRGB(200, 200, 200)
    SubText.Font = Enum.Font.Gotham
    SubText.TextSize = 12
    SubText.TextXAlignment = Enum.TextXAlignment.Left
    SubText.ZIndex = 100000
    SubText.Parent = LogoFrame
    
    local StatusText = Instance.new("TextLabel")
    StatusText.Size = UDim2.new(0.7, 0, 0, 20)
    StatusText.Position = UDim2.new(0, 10, 0, 55)
    StatusText.BackgroundTransparency = 1
    StatusText.Text = "Status: All Systems Operational"
    StatusText.TextColor3 = Color3.fromRGB(0, 255, 0)
    StatusText.Font = Enum.Font.Gotham
    StatusText.TextSize = 11
    StatusText.TextXAlignment = Enum.TextXAlignment.Left
    StatusText.ZIndex = 100000
    StatusText.Parent = LogoFrame
    
    local StatusDot = Instance.new("Frame")
    StatusDot.Size = UDim2.new(0, 15, 0, 15)
    StatusDot.Position = UDim2.new(1, -25, 0, 58)
    StatusDot.BackgroundColor3 = Color3.fromRGB(0, 255, 0)
    StatusDot.BorderSizePixel = 0
    StatusDot.ZIndex = 100000
    StatusDot.Parent = LogoFrame
    
    local DotCorner = Instance.new("UICorner")
    DotCorner.CornerRadius = UDim.new(1, 0)
    DotCorner.Parent = StatusDot
    
    -- Pulsing animation
    task.spawn(function()
        while LogoGui.Parent do
            TweenService:Create(StatusDot, TweenInfo.new(1.5, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut, -1, true), {
                BackgroundColor3 = Color3.fromRGB(0, 200, 0),
                Size = UDim2.new(0, 18, 0, 18)
            }):Play()
            task.wait(1.5)
        end
    end)
    
    -- Update status based on active features
    task.spawn(function()
        while LogoGui.Parent do
            local activeFeatures = 0
            if godModeEnabled then activeFeatures = activeFeatures + 1 end
            if noclipEnabled then activeFeatures = activeFeatures + 1 end
            if autoProximityEnabled then activeFeatures = activeFeatures + 1 end
            if autoCollectEnabled then activeFeatures = activeFeatures + 1 end
            if fullBrightEnabled then activeFeatures = activeFeatures + 1 end
            
            StatusText.Text = "Active Features: " .. activeFeatures .. "/15+"
            
            task.wait(2)
        end
    end)
    
    print("‚úÖ Ultimate corner logo created!")
    return LogoGui
end

-- ============================================================================
-- COMPLETE ESP SYSTEM
-- ============================================================================

local function createAdvancedESP(part, text, color, espType)
    if not part or part:FindFirstChild("WenerUltimateESP_" .. espType) then return end
    
    local highlight = Instance.new("Highlight")
    highlight.Name = "WenerUltimateESP_" .. espType
    highlight.Adornee = part
    highlight.FillColor = color
    highlight.FillTransparency = 0.6
    highlight.OutlineColor = color
    highlight.OutlineTransparency = 0
    highlight.DepthMode = Enum.HighlightDepthMode.AlwaysOnTop
    highlight.Parent = part
    
    local billboard = Instance.new("BillboardGui")
    billboard.Name = "WenerUltimateESP_" .. espType .. "_Bill"
    billboard.Adornee = part
    billboard.Size = UDim2.new(0, 250, 0, 120)
    billboard.StudsOffset = Vector3.new(0, 4, 0)
    billboard.AlwaysOnTop = true
    billboard.Parent = part
    
    local backFrame = Instance.new("Frame")
    backFrame.Size = UDim2.new(1, 0, 0.7, 0)
    backFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
    backFrame.BackgroundTransparency = 0.3
    backFrame.BorderSizePixel = 0
    backFrame.Parent = billboard
    
    local backCorner = Instance.new("UICorner")
    backCorner.CornerRadius = UDim.new(0, 8)
    backCorner.Parent = backFrame
    
    local textLabel = Instance.new("TextLabel")
    textLabel.Size = UDim2.new(1, -10, 0.6, 0)
    textLabel.Position = UDim2.new(0, 5, 0, 0)
    textLabel.BackgroundTransparency = 1
    textLabel.Text = text
    textLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    textLabel.Font = Enum.Font.GothamBold
    textLabel.TextSize = 20
    textLabel.TextStrokeTransparency = 0
    textLabel.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
    textLabel.Parent = backFrame
    
    local distanceLabel = Instance.new("TextLabel")
    distanceLabel.Size = UDim2.new(1, -10, 0.4, 0)
    distanceLabel.Position = UDim2.new(0, 5, 0.6, 0)
    distanceLabel.BackgroundTransparency = 1
    distanceLabel.Text = "0 studs"
    distanceLabel.TextColor3 = color
    distanceLabel.Font = Enum.Font.Gotham
    distanceLabel.TextSize = 16
    distanceLabel.TextStrokeTransparency = 0
    distanceLabel.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
    distanceLabel.Parent = backFrame
    
    local statusLabel = Instance.new("TextLabel")
    statusLabel.Size = UDim2.new(1, 0, 0.3, 0)
    statusLabel.Position = UDim2.new(0, 0, 0.7, 0)
    statusLabel.BackgroundTransparency = 1
    statusLabel.Text = "‚Ä¢ Available"
    statusLabel.TextColor3 = Color3.fromRGB(0, 255, 0)
    statusLabel.Font = Enum.Font.Gotham
    statusLabel.TextSize = 14
    statusLabel.TextStrokeTransparency = 0
    statusLabel.TextStrokeColor3 = Color3.fromRGB(0, 0, 0)
    statusLabel.Parent = billboard
    
    local espData = {
        part = part,
        highlight = highlight,
        billboard = billboard,
        textLabel = textLabel,
        distanceLabel = distanceLabel,
        statusLabel = statusLabel,
        espType = espType
    }
    
    table.insert(espObjects, espData)
    
    task.spawn(function()
        while highlight.Parent and billboard.Parent and player.Character and player.Character:FindFirstChild("HumanoidRootPart") do
            local distance = (player.Character.HumanoidRootPart.Position - part.Position).Magnitude
            distanceLabel.Text = math.floor(distance) .. " studs"
            
            -- Update status based on distance
            if distance <= 10 then
                statusLabel.Text = "‚Ä¢ In Range"
                statusLabel.TextColor3 = Color3.fromRGB(0, 255, 0)
            elseif distance <= 50 then
                statusLabel.Text = "‚Ä¢ Nearby"
                statusLabel.TextColor3 = Color3.fromRGB(255, 255, 0)
            else
                statusLabel.Text = "‚Ä¢ Far"
                statusLabel.TextColor3 = Color3.fromRGB(255, 100, 100)
            end
            
            if distance > 2000 then
                highlight:Destroy()
                billboard:Destroy()
                break
            end
            
            task.wait(0.3)
        end
        
        for i, data in pairs(espObjects) do
            if data == espData then
                table.remove(espObjects, i)
                break
            end
        end
    end)
end

local function updateAllESP()
    if doorEspEnabled then
        local currentRooms = workspace:FindFirstChild("CurrentRooms")
        if currentRooms then
            for _, room in pairs(currentRooms:GetChildren()) do
                if room:IsA("Model") and tonumber(room.Name) then
                    local door = room:FindFirstChild("Door")
                    if door then
                        local doorPart = door:FindFirstChild("Door") or door:FindFirstChildWhichIsA("BasePart")
                        if doorPart and not doorPart:FindFirstChild("WenerUltimateESP_door") then
                            createAdvancedESP(doorPart, "üö™ Room " .. room.Name, Color3.fromRGB(0, 255, 0), "door")
                        end
                    end
                end
            end
        end
    end
    
    if keyEspEnabled then
        for _, obj in pairs(workspace:GetDescendants()) do
            if obj:IsA("Model") and (obj.Name == "Key" or obj.Name:find("Key")) then
                local keyPart = obj:FindFirstChildWhichIsA("BasePart")
                if keyPart then
                    local prompt = keyPart:FindFirstChildOfClass("ProximityPrompt")
                    if prompt and not keyPart:FindFirstChild("WenerUltimateESP_key") then
                        createAdvancedESP(keyPart, "üóùÔ∏è " .. obj.Name, Color3.fromRGB(255, 255, 0), "key")
                    end
                end
            end
        end
    end
    
    if itemEspEnabled then
        local items = {"Vitamins", "Lockpick", "Flashlight", "Lighter", "Candle", "Crucifix", "Bandage"}
        for _, obj in pairs(workspace:GetDescendants()) do
            if obj:IsA("Model") then
                for _, itemName in pairs(items) do
                    if obj.Name == itemName then
                        local itemPart = obj:FindFirstChildWhichIsA("BasePart")
                        if itemPart then
                            local prompt = itemPart:FindFirstChildOfClass("ProximityPrompt")
                            if prompt and not itemPart:FindFirstChild("WenerUltimateESP_item") then
                                createAdvancedESP(itemPart, "üì¶ " .. itemName, Color3.fromRGB(255, 100, 0), "item")
                            end
                        end
                        break
                    end
                end
            end
        end
    end
    
    if bookEspEnabled then
        for _, obj in pairs(workspace:GetDescendants()) do
            if obj:IsA("Model") and obj.Name == "Book" then
                local bookPart = obj:FindFirstChild("Book") or obj:FindFirstChildWhichIsA("BasePart")
                if bookPart then
                    local prompt = bookPart:FindFirstChildOfClass("ProximityPrompt")
                    if prompt and not bookPart:FindFirstChild("WenerUltimateESP_book") then
                        createAdvancedESP(bookPart, "üìö Figure Book", Color3.fromRGB(139, 69, 19), "book")
                    end
                end
            end
        end
    end
    
    if entityEspEnabled then
        local entities = {"RushMoving", "AmbushMoving", "Eyes", "Screech", "Halt", "Seek", "Figure", "Dupe", "Jack", "Timothy"}
        for _, obj in pairs(workspace:GetDescendants()) do
            if obj:IsA("Model") then
                for _, entityName in pairs(entities) do
                    if obj.Name == entityName or obj.Name:find(entityName) then
                        local entityPart = obj:FindFirstChild("Base") or obj:FindFirstChild("HumanoidRootPart") or obj:FindFirstChildWhichIsA("BasePart")
                        if entityPart and not entityPart:FindFirstChild("WenerUltimateESP_entity") then
                            createAdvancedESP(entityPart, "üëπ " .. entityName, Color3.fromRGB(255, 0, 255), "entity")
                        end
                        break
                    end
                end
            end
        end
    end
    
    if playerEspEnabled then
        for _, otherPlayer in pairs(Players:GetPlayers()) do
            if otherPlayer ~= player and otherPlayer.Character and otherPlayer.Character:FindFirstChild("HumanoidRootPart") then
                local humanoidRootPart = otherPlayer.Character.HumanoidRootPart
                if not humanoidRootPart:FindFirstChild("WenerUltimateESP_player") then
                    createAdvancedESP(humanoidRootPart, "üë§ " .. otherPlayer.DisplayName, Color3.fromRGB(0, 255, 255), "player")
                end
            end
        end
    end
end

local function clearAllESP()
    for _, espData in pairs(espObjects) do
        if espData.highlight and espData.highlight.Parent then
            espData.highlight:Destroy()
        end
        if espData.billboard and espData.billboard.Parent then
            espData.billboard:Destroy()
        end
    end
    espObjects = {}
    
    for _, obj in pairs(workspace:GetDescendants()) do
        for _, espType in pairs({"door", "key", "entity", "player", "book", "item"}) do
            local highlight = obj:FindFirstChild("WenerUltimateESP_" .. espType)
            local billboard = obj:FindFirstChild("WenerUltimateESP_" .. espType .. "_Bill")
            if highlight then highlight:Destroy() end
            if billboard then billboard:Destroy() end
        end
    end
end

-- ============================================================================
-- SMART AUTO PROXIMITY SYSTEM
-- ============================================================================

local function isBlacklistedPrompt(prompt)
    if not prompt or not prompt.Parent then return true end
    
    local parentName = prompt.Parent.Name:lower()
    local parentParent = prompt.Parent.Parent
    
    -- Check direct parent name
    for _, blacklisted in pairs(proximityBlacklist) do
        if parentName:find(blacklisted) then
            return true
        end
    end
    
    -- Check parent's parent (for nested models)
    if parentParent then
        local parentParentName = parentParent.Name:lower()
        for _, blacklisted in pairs(proximityBlacklist) do
            if parentParentName:find(blacklisted) then
                return true
            end
        end
    end
    
    return false
end

local function enableAutoProximity()
    autoProximityEnabled = true
    
    if autoProximityConnection then autoProximityConnection:Disconnect() end
    
    local lastActivated = {}
    local activationCount = 0
    
    local function checkAndActivatePrompts()
        if not autoProximityEnabled or not player.Character or not player.Character:FindFirstChild("HumanoidRootPart") then return end
        
        for _, obj in pairs(workspace:GetDescendants()) do
            if obj:IsA("ProximityPrompt") and obj.Enabled then
                if not isBlacklistedPrompt(obj) then
                    if obj.Parent and obj.Parent:IsA("BasePart") then
                        local distance = (player.Character.HumanoidRootPart.Position - obj.Parent.Position).Magnitude
                        
                        if distance <= obj.MaxActivationDistance then
                            local currentTime = tick()
                            
                            if not lastActivated[obj] or (currentTime - lastActivated[obj]) > 0.5 then
                                pcall(function()
                                    fireproximityprompt(obj)
                                    lastActivated[obj] = currentTime
                                    activationCount = activationCount + 1
                                    
                                    local promptName = obj.ObjectText or obj.ActionText or "Unknown"
                                    print("üéØ Auto activated: " .. promptName .. " (Total: " .. activationCount .. ")")
                                end)
                            end
                        end
                    end
                end
            end
        end
    end
    
    autoProximityConnection = RunService.Heartbeat:Connect(function()
        checkAndActivatePrompts()
    end)
    
    print("üéØ Smart Auto Proximity: ENABLED")
    createAdvancedNotification(
        "üéØ SMART AUTO PROXIMITY ENABLED",
        "Will auto-interact with ALL prompts EXCEPT wardrobes/lockers/hiding spots! Perfect for speed runs and item collection!",
        Color3.fromRGB(0, 255, 0),
        6,
        true
    )
end

local function disableAutoProximity()
    autoProximityEnabled = false
    
    if autoProximityConnection then
        autoProximityConnection:Disconnect()
        autoProximityConnection = nil
    end
    
    print("üéØ Smart Auto Proximity: DISABLED")
    createAdvancedNotification(
        "üéØ AUTO PROXIMITY DISABLED",
        "Auto-interaction stopped.",
        Color3.fromRGB(255, 0, 0),
        3,
        false
    )
end

-- ============================================================================
-- MAIN FEATURES IMPLEMENTATION
-- ============================================================================

local function setSpeed(speed)
    currentSpeed = speed
    if player.Character and player.Character:FindFirstChild("Humanoid") then
        player.Character.Humanoid.WalkSpeed = speed
    end
end

local function enableGodMode()
    godModeEnabled = true
    
    for _, conn in pairs(godModeConnections) do
        pcall(function() conn:Disconnect() end)
    end
    godModeConnections = {}
    
    local function maintainGodMode()
        if not godModeEnabled or not player.Character then return end
        
        local humanoid = player.Character:FindFirstChild("Humanoid")
        if humanoid then
            humanoid.MaxHealth = math.huge
            humanoid.Health = math.huge
        end
    end
    
    local conn1 = RunService.Heartbeat:Connect(maintainGodMode)
    table.insert(godModeConnections, conn1)
    
    -- Additional protection
    local conn2 = player.Character.ChildAdded:Connect(function(child)
        if child:IsA("Humanoid") then
            child.MaxHealth = math.huge
            child.Health = math.huge
        end
    end)
    table.insert(godModeConnections, conn2)
    
    print("üõ°Ô∏è Ultimate God Mode: ENABLED")
    createAdvancedNotification(
        "üõ°Ô∏è GOD MODE ACTIVATED",
        "You are now completely invincible! Health set to infinite.",
        Color3.fromRGB(0, 255, 0),
        4,
        true
    )
end

local function disableGodMode()
    godModeEnabled = false
    
    for _, conn in pairs(godModeConnections) do
        pcall(function() conn:Disconnect() end)
    end
    godModeConnections = {}
    
    if player.Character then
        local humanoid = player.Character:FindFirstChild("Humanoid")
        if humanoid then
            humanoid.MaxHealth = 100
            humanoid.Health = 100
        end
    end
    
    print("üõ°Ô∏è God Mode: DISABLED")
    createAdvancedNotification(
        "üõ°Ô∏è GOD MODE DEACTIVATED",
        "You are now mortal again. Health restored to normal.",
        Color3.fromRGB(255, 0, 0),
        3,
        false
    )
end

local function enableNoclip()
    noclipEnabled = true
    
    if noclipConnection then noclipConnection:Disconnect() end
    
    noclipConnection = RunService.Stepped:Connect(function()
        if noclipEnabled and player.Character then
            for _, part in pairs(player.Character:GetDescendants()) do
                if part:IsA("BasePart") and part.Name ~= "HumanoidRootPart" then
                    part.CanCollide = false
                end
            end
        end
    end)
    
    print("üëª Advanced Noclip: ENABLED")
    createAdvancedNotification(
        "üëª NOCLIP ACTIVATED",
        "You can now walk through all walls and obstacles!",
        Color3.fromRGB(100, 255, 255),
        4,
        true
    )
end

local function disableNoclip()
    noclipEnabled = false
    
    if noclipConnection then noclipConnection:Disconnect() end
    
    if player.Character then
        for _, part in pairs(player.Character:GetDescendants()) do
            if part:IsA("BasePart") and part.Name ~= "HumanoidRootPart" then
                part.CanCollide = true
            end
        end
    end
    
    print("üëª Noclip: DISABLED")
    createAdvancedNotification(
        "üëª NOCLIP DEACTIVATED",
        "Collision detection restored to normal.",
        Color3.fromRGB(255, 0, 0),
        3,
        false
    )
end

local function enableFullBright()
    fullBrightEnabled = true
    
    Lighting.Brightness = 3
    Lighting.ClockTime = 14
    Lighting.FogEnd = 100000
    Lighting.GlobalShadows = false
    Lighting.OutdoorAmbient = Color3.fromRGB(150, 150, 150)
    Lighting.Ambient = Color3.fromRGB(150, 150, 150)
    
    -- Additional lighting boost
    for _, obj in pairs(Lighting:GetChildren()) do
        if obj:IsA("BloomEffect") or obj:IsA("SunRaysEffect") or obj:IsA("ColorCorrectionEffect") then
            obj.Enabled = false
        end
    end
    
    print("üí° Ultimate Full Bright: ENABLED")
    createAdvancedNotification(
        "üí° FULL BRIGHT ACTIVATED",
        "Maximum visibility! All areas are now fully illuminated.",
        Color3.fromRGB(255, 255, 0),
        4,
        true
    )
end

local function disableFullBright()
    fullBrightEnabled = false
    
    Lighting.Brightness = 1
    Lighting.ClockTime = 0
    Lighting.FogEnd = 100
    Lighting.GlobalShadows = true
    Lighting.OutdoorAmbient = Color3.fromRGB(70, 70, 70)
    Lighting.Ambient = Color3.fromRGB(0, 0, 0)
    
    for _, obj in pairs(Lighting:GetChildren()) do
        if obj:IsA("BloomEffect") or obj:IsA("SunRaysEffect") or obj:IsA("ColorCorrectionEffect") then
            obj.Enabled = true
        end
    end
    
    print("üí° Full Bright: DISABLED")
    createAdvancedNotification(
        "üí° FULL BRIGHT DEACTIVATED",
        "Lighting restored to normal game settings.",
        Color3.fromRGB(255, 0, 0),
        3,
        false
    )
end

-- ============================================================================
-- AUTOMATION FEATURES
-- ============================================================================

local function enableAutoCollect()
    autoCollectEnabled = true
    
    if autoCollectConnection then autoCollectConnection:Disconnect() end
    
    local itemsCollected = 0
    
    local function collectItems()
        if not autoCollectEnabled or not player.Character or not player.Character:FindFirstChild("HumanoidRootPart") then return end
        
        for _, obj in pairs(workspace:GetDescendants()) do
            if obj:IsA("Model") then
                local shouldCollect = false
                local itemType = ""
                
                for itemName, enabled in pairs(autoCollectSettings) do
                    if enabled and (obj.Name == itemName or obj.Name:find(itemName)) then
                        shouldCollect = true
                        itemType = itemName
                        break
                    end
                end
                
                if shouldCollect then
                    local itemPart = obj:FindFirstChildWhichIsA("BasePart")
                    if itemPart then
                        local distance = (player.Character.HumanoidRootPart.Position - itemPart.Position).Magnitude
                        if distance <= 20 then
                            local prompt = itemPart:FindFirstChildOfClass("ProximityPrompt")
                            if prompt and prompt.Enabled then
                                pcall(function()
                                    fireproximityprompt(prompt)
                                    itemsCollected = itemsCollected + 1
                                    print("üì¶ Auto collected: " .. itemType .. " (Total: " .. itemsCollected .. ")")
                                end)
                            end
                        end
                    end
                end
            end
        end
    end
    
    autoCollectConnection = RunService.Heartbeat:Connect(function()
        collectItems()
    end)
    
    print("üì¶ Smart Auto Collect: ENABLED")
    createAdvancedNotification(
        "üì¶ AUTO COLLECT ACTIVATED",
        "Automatically collecting all valuable items within range! Items collected: " .. itemsCollected,
        Color3.fromRGB(255, 165, 0),
        5,
        true
    )
end

local function disableAutoCollect()
    autoCollectEnabled = false
    
    if autoCollectConnection then autoCollectConnection:Disconnect() end
    
    print("üì¶ Auto Collect: DISABLED")
    createAdvancedNotification(
        "üì¶ AUTO COLLECT DEACTIVATED",
        "Automatic item collection stopped.",
        Color3.fromRGB(255, 0, 0),
        3,
        false
    )
end

-- ============================================================================
-- ENTITY NOTIFICATIONS
-- ============================================================================

local function setupEntityNotifications()
    for _, conn in pairs(entityConnections) do
        pcall(function() conn:Disconnect() end)
    end
    entityConnections = {}
    
    if not rushNotifEnabled and not allEntityNotifications then return end
    
    local entities = {
        {name = "RushMoving", displayName = "Rush", color = Color3.fromRGB(255, 0, 0), message = "üö® RUSH IS COMING! Find a hiding spot NOW!"},
        {name = "AmbushMoving", displayName = "Ambush", color = Color3.fromRGB(255, 100, 0), message = "‚ö†Ô∏è AMBUSH DETECTED! Hide and wait for multiple passes!"},
        {name = "Eyes", displayName = "Eyes", color = Color3.fromRGB(0, 255, 255), message = "üëÅÔ∏è EYES SPAWNED! Look away immediately!"},
        {name = "Screech", displayName = "Screech", color = Color3.fromRGB(139, 0, 139), message = "üò± SCREECH IS NEAR! Listen for audio cue!"},
        {name = "Halt", displayName = "Halt", color = Color3.fromRGB(0, 100, 255), message = "üõë HALT ENCOUNTERED! Walk when it says HALT!"},
        {name = "Seek", displayName = "Seek", color = Color3.fromRGB(0, 0, 0), message = "üèÉ SEEK CHASE! Run and avoid obstacles!"},
        {name = "Figure", displayName = "Figure", color = Color3.fromRGB(50, 50, 50), message = "üëπ FIGURE DETECTED! Stay quiet and crouch!"},
        {name = "Dupe", displayName = "Dupe", color = Color3.fromRGB(255, 255, 0), message = "üö™ DUPE ROOM! Check the number carefully!"},
        {name = "Jack", displayName = "Jack", color = Color3.fromRGB(255, 0, 255), message = "ü§° JACK APPEARED! He's just a jumpscare!"},
        {name = "Timothy", displayName = "Timothy", color = Color3.fromRGB(100, 50, 0), message = "üï∑Ô∏è TIMOTHY (Spider)! Just a small jumpscare!"}
    }
    
    local notifiedEntities = {}
    
    local function checkForEntity(entityData)
        for _, obj in pairs(workspace:GetDescendants()) do
            if obj:IsA("Model") and (obj.Name == entityData.name or obj.Name:find(entityData.name)) then
                if not notifiedEntities[obj] then
                    notifiedEntities[obj] = true
                    
                    -- Check if should notify
                    local shouldNotify = false
                    if allEntityNotifications then
                        shouldNotify = true
                    elseif rushNotifEnabled and (entityData.name == "RushMoving" or entityData.name == "AmbushMoving") then
                        shouldNotify = true
                    end
                    
                    if shouldNotify then
                        createAdvancedNotification(
                            "üëπ " .. entityData.displayName:upper() .. " DETECTED!",
                            entityData.message,
                            entityData.color,
                            8,
                            true
                        )
                        
                        print("üëπ Entity detected: " .. entityData.displayName)
                    end
                    
                    -- Clean up notification tracking when entity is destroyed
                    obj.Destroying:Connect(function()
                        notifiedEntities[obj] = nil
                    end)
                end
            end
        end
    end
    
    -- Monitor existing entities
    for _, entityData in pairs(entities) do
        checkForEntity(entityData)
    end
    
    -- Monitor new entities
    local conn = workspace.DescendantAdded:Connect(function(descendant)
        if descendant:IsA("Model") then
            for _, entityData in pairs(entities) do
                if descendant.Name == entityData.name or descendant.Name:find(entityData.name) then
                    task.wait(0.1)
                    checkForEntity(entityData)
                    break
                end
            end
        end
    end)
    
    table.insert(entityConnections, conn)
    
    print("üîî Entity notification system active!")
end

-- ============================================================================
-- TELEPORT SYSTEM
-- ============================================================================

local function teleportToLatestRoom()
    local currentRooms = workspace:FindFirstChild("CurrentRooms")
    if not currentRooms then 
        createAdvancedNotification(
            "‚ùå TELEPORT FAILED",
            "CurrentRooms not found in workspace!",
            Color3.fromRGB(255, 0, 0),
            4,
            false
        )
        return 
    end
    
    if not player.Character or not player.Character:FindFirstChild("HumanoidRootPart") then 
        createAdvancedNotification(
            "‚ùå TELEPORT FAILED",
            "Character not found or not loaded!",
            Color3.fromRGB(255, 0, 0),
            4,
            false
        )
        return 
    end
    
    local latestRoom = nil
    local highestNumber = 0
    
    for _, room in pairs(currentRooms:GetChildren()) do
        local roomNumber = tonumber(room.Name)
        if roomNumber and roomNumber > highestNumber then
            highestNumber = roomNumber
            latestRoom = room
        end
    end
    
    if latestRoom then
        local roomPos = latestRoom:FindFirstChildWhichIsA("BasePart")
        if roomPos then
            player.Character.HumanoidRootPart.CFrame = CFrame.new(roomPos.Position + Vector3.new(0, 5, 0))
            
            createAdvancedNotification(
                "üö™ TELEPORT SUCCESS",
                "Teleported to Room " .. latestRoom.Name .. "!",
                Color3.fromRGB(0, 255, 0),
                4,
                true
            )
            
            print("üö™ Teleported to room: " .. latestRoom.Name)
        else
            createAdvancedNotification(
                "‚ùå TELEPORT FAILED",
                "Room " .. latestRoom.Name .. " has no valid position!",
                Color3.fromRGB(255, 0, 0),
                4,
                false
            )
        end
    else
        createAdvancedNotification(
            "‚ùå TELEPORT FAILED",
            "No rooms found to teleport to!",
            Color3.fromRGB(255, 0, 0),
            4,
            false
        )
    end
end

-- ============================================================================
-- INFINITE VITAMINS
-- ============================================================================

local function enableInfiniteVitamins()
    infVitaminsEnabled = true
    
    if infVitaminsConnection then infVitaminsConnection:Disconnect() end
    
    infVitaminsConnection = RunService.Heartbeat:Connect(function()
        if not infVitaminsEnabled then return end
        
        pcall(function()
            if player.Character and player.Character:FindFirstChild("Humanoid") then
                local vitaminsEffect = player.Character.Humanoid:FindFirstChild("VitaminsEffect")
                if vitaminsEffect and vitaminsEffect.Value then
                    vitaminsEffect.Value = true
                end
            end
        end)
    end)
    
    print("üíä Infinite Vitamins: ENABLED")
    createAdvancedNotification(
        "üíä INFINITE VITAMINS ACTIVATED",
        "Vitamins effect will never run out!",
        Color3.fromRGB(0, 255, 0),
        4,
        true
    )
end

local function disableInfiniteVitamins()
    infVitaminsEnabled = false
    
    if infVitaminsConnection then infVitaminsConnection:Disconnect() end
    
    print("üíä Infinite Vitamins: DISABLED")
    createAdvancedNotification(
        "üíä INFINITE VITAMINS DEACTIVATED",
        "Vitamins effect will work normally.",
        Color3.fromRGB(255, 0, 0),
        3,
        false
    )
end

-- ============================================================================
-- INSTANT INTERACT
-- ============================================================================

local function enableInstantInteract()
    instantInteractEnabled = true
    
    for _, obj in pairs(workspace:GetDescendants()) do
        if obj:IsA("ProximityPrompt") then
            obj.HoldDuration = 0
        end
    end
    
    workspace.DescendantAdded:Connect(function(descendant)
        if instantInteractEnabled and descendant:IsA("ProximityPrompt") then
            descendant.HoldDuration = 0
        end
    end)
    
    print("‚ö° Instant Interact: ENABLED")
    createAdvancedNotification(
        "‚ö° INSTANT INTERACT ACTIVATED",
        "All proximity prompts now have zero hold time!",
        Color3.fromRGB(255, 255, 0),
        4,
        true
    )
end

local function disableInstantInteract()
    instantInteractEnabled = false
    print("‚ö° Instant Interact: DISABLED")
end

-- ============================================================================
-- INSTANT RESPAWN
-- ============================================================================

local function instantRespawn()
    if player.Character then
        player.Character:BreakJoints()
        createAdvancedNotification(
            "üîÑ RESPAWNING",
            "Your character is respawning...",
            Color3.fromRGB(0, 255, 255),
            3,
            true
        )
        print("üîÑ Character respawning...")
    end
end

-- ============================================================================
-- MANUAL UI CREATION SYSTEM
-- ============================================================================

local function createManualUI()
    local ScreenGui = Instance.new("ScreenGui")
    ScreenGui.Name = "WenerUltimateManualHub"
    ScreenGui.ResetOnSpawn = false
    ScreenGui.Parent = CoreGui
    ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
    
    -- Main Frame
    local MainFrame = Instance.new("Frame")
    MainFrame.Size = UDim2.new(0, 500, 0, 600)
    MainFrame.Position = UDim2.new(0.5, -250, 0.5, -300)
    MainFrame.BackgroundColor3 = Color3.fromRGB(15, 15, 25)
    MainFrame.BackgroundTransparency = 0.05
    MainFrame.BorderSizePixel = 0
    MainFrame.ZIndex = 10000
    MainFrame.Parent = ScreenGui
    
    local Corner = Instance.new("UICorner")
    Corner.CornerRadius = UDim.new(0, 20)
    Corner.Parent = MainFrame
    
    local Stroke = Instance.new("UIStroke")
    Stroke.Color = Color3.fromRGB(139, 0, 255)
    Stroke.Thickness = 3
    Stroke.Parent = MainFrame
    
    local Gradient = Instance.new("UIGradient")
    Gradient.Color = ColorSequence.new({
        ColorSequenceKeypoint.new(0, Color3.fromRGB(139, 0, 255)),
        ColorSequenceKeypoint.new(0.5, Color3.fromRGB(15, 15, 25)),
        ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 0, 139))
    })
    Gradient.Rotation = 45
    Gradient.Parent = MainFrame
    
    -- Title Bar
    local TitleBar = Instance.new("Frame")
    TitleBar.Size = UDim2.new(1, 0, 0, 60)
    TitleBar.Position = UDim2.new(0, 0, 0, 0)
    TitleBar.BackgroundColor3 = Color3.fromRGB(139, 0, 255)
    TitleBar.BorderSizePixel = 0
    TitleBar.ZIndex = 10001
    TitleBar.Parent = MainFrame
    
    local TitleCorner = Instance.new("UICorner")
    TitleCorner.CornerRadius = UDim.new(0, 20)
    TitleCorner.Parent = TitleBar
    
    local TitleBottom = Instance.new("Frame")
    TitleBottom.Size = UDim2.new(1, 0, 0, 20)
    TitleBottom.Position = UDim2.new(0, 0, 1, -20)
    TitleBottom.BackgroundColor3 = Color3.fromRGB(139, 0, 255)
    TitleBottom.BorderSizePixel = 0
    TitleBottom.ZIndex = 10001
    TitleBottom.Parent = TitleBar
    
    local Title = Instance.new("TextLabel")
    Title.Size = UDim2.new(1, -80, 1, 0)
    Title.Position = UDim2.new(0, 20, 0, 0)
    Title.BackgroundTransparency = 1
    Title.Text = "üéÆ WENER HUB v4.0 ULTIMATE"
    Title.TextColor3 = Color3.fromRGB(255, 255, 255)
    Title.Font = Enum.Font.GothamBold
    Title.TextSize = 20
    Title.TextXAlignment = Enum.TextXAlignment.Left
    Title.TextStrokeTransparency = 0.5
    Title.ZIndex = 10002
    Title.Parent = TitleBar
    
    local Subtitle = Instance.new("TextLabel")
    Subtitle.Size = UDim2.new(1, -80, 0, 20)
    Subtitle.Position = UDim2.new(0, 20, 0, 35)
    Subtitle.BackgroundTransparency = 1
    Subtitle.Text = "Complete Edition - Manual UI Mode"
    Subtitle.TextColor3 = Color3.fromRGB(200, 200, 200)
    Subtitle.Font = Enum.Font.Gotham
    Subtitle.TextSize = 14
    Subtitle.TextXAlignment = Enum.TextXAlignment.Left
    Subtitle.ZIndex = 10002
    Subtitle.Parent = TitleBar
    
    -- Close Button
    local CloseButton = Instance.new("TextButton")
    CloseButton.Size = UDim2.new(0, 35, 0, 35)
    CloseButton.Position = UDim2.new(1, -45, 0, 12.5)
    CloseButton.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
    CloseButton.Text = "‚úï"
    CloseButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    CloseButton.Font = Enum.Font.GothamBold
    CloseButton.TextSize = 18
    CloseButton.ZIndex = 10002
    CloseButton.Parent = TitleBar
    
    local CloseCorner = Instance.new("UICorner")
    CloseCorner.CornerRadius = UDim.new(0, 10)
    CloseCorner.Parent = CloseButton
    
    CloseButton.MouseButton1Click:Connect(function()
        ScreenGui.Enabled = false
    end)
    
    -- Minimize Button
    local MinimizeButton = Instance.new("TextButton")
    MinimizeButton.Size = UDim2.new(0, 35, 0, 35)
    MinimizeButton.Position = UDim2.new(1, -90, 0, 12.5)
    MinimizeButton.BackgroundColor3 = Color3.fromRGB(255, 165, 0)
    MinimizeButton.Text = "‚Äî"
    MinimizeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    MinimizeButton.Font = Enum.Font.GothamBold
    MinimizeButton.TextSize = 18
    MinimizeButton.ZIndex = 10002
    MinimizeButton.Parent = TitleBar
    
    local MinimizeCorner = Instance.new("UICorner")
    MinimizeCorner.CornerRadius = UDim.new(0, 10)
    MinimizeCorner.Parent = MinimizeButton
    
    local isMinimized = false
    MinimizeButton.MouseButton1Click:Connect(function()
        isMinimized = not isMinimized
        if isMinimized then
            MainFrame:TweenSize(UDim2.new(0, 500, 0, 60), "Out", "Quad", 0.3, true)
        else
            MainFrame:TweenSize(UDim2.new(0, 500, 0, 600), "Out", "Quad", 0.3, true)
        end
    end)
    
    -- Content Frame
    local ContentFrame = Instance.new("ScrollingFrame")
    ContentFrame.Size = UDim2.new(1, -30, 1, -80)
    ContentFrame.Position = UDim2.new(0, 15, 0, 70)
    ContentFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 35)
    ContentFrame.BackgroundTransparency = 0.3
    ContentFrame.BorderSizePixel = 0
    ContentFrame.ScrollBarThickness = 10
    ContentFrame.ScrollBarImageColor3 = Color3.fromRGB(139, 0, 255)
    ContentFrame.CanvasSize = UDim2.new(0, 0, 0, 2000)
    ContentFrame.ZIndex = 10001
    ContentFrame.Parent = MainFrame
    
    local ContentCorner = Instance.new("UICorner")
    ContentCorner.CornerRadius = UDim.new(0, 15)
    ContentCorner.Parent = ContentFrame
    
    local UILayout = Instance.new("UIListLayout")
    UILayout.SortOrder = Enum.SortOrder.LayoutOrder
    UILayout.Padding = UDim.new(0, 10)
    UILayout.Parent = ContentFrame
    
    local UIPadding = Instance.new("UIPadding")
    UIPadding.PaddingTop = UDim.new(0, 10)
    UIPadding.PaddingLeft = UDim.new(0, 10)
    UIPadding.PaddingRight = UDim.new(0, 10)
    UIPadding.PaddingBottom = UDim.new(0, 10)
    UIPadding.Parent = ContentFrame
    
    -- Make draggable
    local dragging = false
    local dragInput, dragStart, startPos
    
    TitleBar.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
            dragging = true
            dragStart = input.Position
            startPos = MainFrame.Position
        end
    end)
    
    TitleBar.InputChanged:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch then
            dragInput = input
        end
    end)
    
    UserInputService.InputChanged:Connect(function(input)
        if input == dragInput and dragging then
            local delta = input.Position - dragStart
            MainFrame.Position = UDim2.new(
                startPos.X.Scale,
                startPos.X.Offset + delta.X,
                startPos.Y.Scale,
                startPos.Y.Offset + delta.Y
            )
        end
    end)
    
    UserInputService.InputEnded:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
            dragging = false
        end
    end)
    
    print("‚úÖ Manual UI frame created successfully!")
    return ScreenGui, ContentFrame
end

-- ============================================================================
-- UI ELEMENT CREATORS
-- ============================================================================

local function createLabel(parent, text, layoutOrder)
    local Label = Instance.new("TextLabel")
    Label.Size = UDim2.new(1, -20, 0, 35)
    Label.Position = UDim2.new(0, 10, 0, 0)
    Label.BackgroundColor3 = Color3.fromRGB(139, 0, 255)
    Label.BackgroundTransparency = 0.4
    Label.Text = text
    Label.TextColor3 = Color3.fromRGB(255, 255, 255)
    Label.Font = Enum.Font.GothamBold
    Label.TextSize = 18
    Label.TextStrokeTransparency = 0.5
    Label.ZIndex = 10002
    Label.LayoutOrder = layoutOrder or 1
    Label.Parent = parent
    
    local LabelCorner = Instance.new("UICorner")
    LabelCorner.CornerRadius = UDim.new(0, 10)
    LabelCorner.Parent = Label
    
    local LabelGradient = Instance.new("UIGradient")
    LabelGradient.Color = ColorSequence.new({
        ColorSequenceKeypoint.new(0, Color3.fromRGB(139, 0, 255)),
        ColorSequenceKeypoint.new(1, Color3.fromRGB(255, 0, 139))
    })
    LabelGradient.Rotation = 90
    LabelGradient.Parent = Label
    
    return Label
end

local function createButton(parent, text, callback, layoutOrder, color)
    local Button = Instance.new("TextButton")
    Button.Size = UDim2.new(1, -20, 0, 45)
    Button.Position = UDim2.new(0, 10, 0, 0)
    Button.BackgroundColor3 = color or Color3.fromRGB(139, 0, 255)
    Button.BackgroundTransparency = 0.2
    Button.Text = text
    Button.TextColor3 = Color3.fromRGB(255, 255, 255)
    Button.Font = Enum.Font.GothamBold
    Button.TextSize = 16
    Button.TextStrokeTransparency = 0.5
    Button.ZIndex = 10002
    Button.LayoutOrder = layoutOrder or 1
    Button.Parent = parent
    
    local ButtonCorner = Instance.new("UICorner")
    ButtonCorner.CornerRadius = UDim.new(0, 10)
    ButtonCorner.Parent = Button
    
    local ButtonStroke = Instance.new("UIStroke")
    ButtonStroke.Color = Color3.fromRGB(200, 200, 200)
    ButtonStroke.Thickness = 1
    ButtonStroke.Transparency = 0.5
    ButtonStroke.Parent = Button
    
    Button.MouseButton1Click:Connect(function()
        Button.BackgroundTransparency = 0
        task.wait(0.1)
        Button.BackgroundTransparency = 0.2
        
        pcall(callback)
    end)
    
    Button.MouseEnter:Connect(function()
        TweenService:Create(Button, TweenInfo.new(0.2), {
            BackgroundTransparency = 0,
            Size = UDim2.new(1, -15, 0, 48)
        }):Play()
    end)
    
    Button.MouseLeave:Connect(function()
        TweenService:Create(Button, TweenInfo.new(0.2), {
            BackgroundTransparency = 0.2,
            Size = UDim2.new(1, -20, 0, 45)
        }):Play()
    end)
    
    return Button
end

local function createToggle(parent, text, callback, layoutOrder)
    local ToggleFrame = Instance.new("Frame")
    ToggleFrame.Size = UDim2.new(1, -20, 0, 50)
    ToggleFrame.Position = UDim2.new(0, 10, 0, 0)
    ToggleFrame.BackgroundColor3 = Color3.fromRGB(35, 35, 45)
    ToggleFrame.BackgroundTransparency = 0.2
    ToggleFrame.ZIndex = 10002
    ToggleFrame.LayoutOrder = layoutOrder or 1
    ToggleFrame.Parent = parent
    
    local ToggleCorner = Instance.new("UICorner")
    ToggleCorner.CornerRadius = UDim.new(0, 10)
    ToggleCorner.Parent = ToggleFrame
    
    local ToggleStroke = Instance.new("UIStroke")
    ToggleStroke.Color = Color3.fromRGB(100, 100, 100)
    ToggleStroke.Thickness = 1
    ToggleStroke.Transparency = 0.5
    ToggleStroke.Parent = ToggleFrame
    
    local ToggleLabel = Instance.new("TextLabel")
    ToggleLabel.Size = UDim2.new(0.7, 0, 1, 0)
    ToggleLabel.Position = UDim2.new(0, 15, 0, 0)
    ToggleLabel.BackgroundTransparency = 1
    ToggleLabel.Text = text
    ToggleLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    ToggleLabel.Font = Enum.Font.Gotham
    ToggleLabel.TextSize = 15
    ToggleLabel.TextXAlignment = Enum.TextXAlignment.Left
    ToggleLabel.TextStrokeTransparency = 0.5
    ToggleLabel.ZIndex = 10003
    ToggleLabel.Parent = ToggleFrame
    
    local ToggleButton = Instance.new("TextButton")
    ToggleButton.Size = UDim2.new(0, 70, 0, 30)
    ToggleButton.Position = UDim2.new(1, -80, 0.5, -15)
    ToggleButton.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
    ToggleButton.Text = "OFF"
    ToggleButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    ToggleButton.Font = Enum.Font.GothamBold
    ToggleButton.TextSize = 14
    ToggleButton.ZIndex = 10003
    ToggleButton.Parent = ToggleFrame
    
    local ToggleBtnCorner = Instance.new("UICorner")
    ToggleBtnCorner.CornerRadius = UDim.new(0, 15)
    ToggleBtnCorner.Parent = ToggleButton
    
    local toggled = false
    
    ToggleButton.MouseButton1Click:Connect(function()
        toggled = not toggled
        
        if toggled then
            TweenService:Create(ToggleButton, TweenInfo.new(0.3), {
                BackgroundColor3 = Color3.fromRGB(0, 255, 0)
            }):Play()
            ToggleButton.Text = "ON"
            ToggleStroke.Color = Color3.fromRGB(0, 255, 0)
        else
            TweenService:Create(ToggleButton, TweenInfo.new(0.3), {
                BackgroundColor3 = Color3.fromRGB(255, 0, 0)
            }):Play()
            ToggleButton.Text = "OFF"
            ToggleStroke.Color = Color3.fromRGB(100, 100, 100)
        end
        
        pcall(function()
            callback(toggled)
        end)
    end)
    
    return ToggleFrame, ToggleButton
end

local function createSlider(parent, text, min, max, callback, layoutOrder)
    local SliderFrame = Instance.new("Frame")
    SliderFrame.Size = UDim2.new(1, -20, 0, 70)
    SliderFrame.Position = UDim2.new(0, 10, 0, 0)
    SliderFrame.BackgroundColor3 = Color3.fromRGB(35, 35, 45)
    SliderFrame.BackgroundTransparency = 0.2
    SliderFrame.ZIndex = 10002
    SliderFrame.LayoutOrder = layoutOrder or 1
    SliderFrame.Parent = parent
    
    local SliderCorner = Instance.new("UICorner")
    SliderCorner.CornerRadius = UDim.new(0, 10)
    SliderCorner.Parent = SliderFrame
    
    local SliderStroke = Instance.new("UIStroke")
    SliderStroke.Color = Color3.fromRGB(139, 0, 255)
    SliderStroke.Thickness = 1
    SliderStroke.Transparency = 0.5
    SliderStroke.Parent = SliderFrame
    
    local SliderLabel = Instance.new("TextLabel")
    SliderLabel.Size = UDim2.new(1, -20, 0, 30)
    SliderLabel.Position = UDim2.new(0, 10, 0, 5)
    SliderLabel.BackgroundTransparency = 1
    SliderLabel.Text = text .. ": " .. min
    SliderLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
    SliderLabel.Font = Enum.Font.GothamBold
    SliderLabel.TextSize = 16
    SliderLabel.TextXAlignment = Enum.TextXAlignment.Left
    SliderLabel.TextStrokeTransparency = 0.5
    SliderLabel.ZIndex = 10003
    SliderLabel.Parent = SliderFrame
    
    local SliderBar = Instance.new("Frame")
    SliderBar.Size = UDim2.new(1, -40, 0, 8)
    SliderBar.Position = UDim2.new(0, 20, 0, 50)
    SliderBar.BackgroundColor3 = Color3.fromRGB(50, 50, 50)
    SliderBar.BorderSizePixel = 0
    SliderBar.ZIndex = 10003
    SliderBar.Parent = SliderFrame
    
    local SliderBarCorner = Instance.new("UICorner")
    SliderBarCorner.CornerRadius = UDim.new(1, 0)
    SliderBarCorner.Parent = SliderBar
    
    local SliderFill = Instance.new("Frame")
    SliderFill.Size = UDim2.new(0, 0, 1, 0)
    SliderFill.Position = UDim2.new(0, 0, 0, 0)
    SliderFill.BackgroundColor3 = Color3.fromRGB(139, 0, 255)
    SliderFill.BorderSizePixel = 0
    SliderFill.ZIndex = 10004
    SliderFill.Parent = SliderBar
    
    local SliderFillCorner = Instance.new("UICorner")
    SliderFillCorner.CornerRadius = UDim.new(1, 0)
    SliderFillCorner.Parent = SliderFill
    
    local SliderDot = Instance.new("Frame")
    SliderDot.Size = UDim2.new(0, 20, 0, 20)
    SliderDot.Position = UDim2.new(0, -10, 0.5, -10)
    SliderDot.BackgroundColor3 = Color3.fromRGB(255, 255, 255)
    SliderDot.BorderSizePixel = 0
    SliderDot.ZIndex = 10005
    SliderDot.Parent = SliderFill
    
    local SliderDotCorner = Instance.new("UICorner")
    SliderDotCorner.CornerRadius = UDim.new(1, 0)
    SliderDotCorner.Parent = SliderDot
    
    local dragging = false
    local currentValue = min
    
    local function updateSlider(input)
        local relativePos = math.clamp((input.Position.X - SliderBar.AbsolutePosition.X) / SliderBar.AbsoluteSize.X, 0, 1)
        currentValue = min + (max - min) * relativePos
        
        SliderFill.Size = UDim2.new(relativePos, 0, 1, 0)
        SliderLabel.Text = text .. ": " .. math.floor(currentValue * 10) / 10
        
        pcall(function()
            callback(currentValue)
        end)
    end
    
    SliderBar.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
            dragging = true
            updateSlider(input)
        end
    end)
    
    UserInputService.InputChanged:Connect(function(input)
        if dragging and (input.UserInputType == Enum.UserInputType.MouseMovement or input.UserInputType == Enum.UserInputType.Touch) then
            updateSlider(input)
        end
    end)
    
    UserInputService.InputEnded:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 or input.UserInputType == Enum.UserInputType.Touch then
            dragging = false
        end
    end)
    
    return SliderFrame
end

-- ============================================================================
-- POPULATE MANUAL UI WITH ALL FEATURES
-- ============================================================================

local function populateManualUI(contentFrame)
    print("üìù Populating manual UI with all features...")
    
    -- ===== MAIN FEATURES =====
    createLabel(contentFrame, "‚öôÔ∏è MAIN FEATURES", 1)
    
    createSlider(contentFrame, "‚ö° Speed Multiplier", 1, 10, function(value)
        setSpeed(16 * value)
    end, 2)
    
    createToggle(contentFrame, "üõ°Ô∏è God Mode (Invincibility)", function(enabled)
        if enabled then
            enableGodMode()
        else
            disableGodMode()
        end
    end, 3)
    
    createToggle(contentFrame, "üëª Noclip (Walk Through Walls)", function(enabled)
        if enabled then
            enableNoclip()
        else
            disableNoclip()
        end
    end, 4)
    
    createToggle(contentFrame, "üí° Full Bright (Maximum Visibility)", function(enabled)
        if enabled then
            enableFullBright()
        else
            disableFullBright()
        end
    end, 5)
    
    createButton(contentFrame, "üîÑ Instant Respawn", function()
        instantRespawn()
    end, 6, Color3.fromRGB(0, 200, 255))
    
    createButton(contentFrame, "üö™ Teleport to Latest Room", function()
        teleportToLatestRoom()
    end, 7, Color3.fromRGB(0, 255, 100))
    
    -- ===== AUTO PROXIMITY =====
    createLabel(contentFrame, "üéØ SMART AUTO PROXIMITY", 8)
    
    createToggle(contentFrame, "üéØ Enable Auto Proximity (Smart)", function(enabled)
        if enabled then
            enableAutoProximity()
        else
            disableAutoProximity()
        end
    end, 9)
    
    createButton(contentFrame, "‚ÑπÔ∏è About Auto Proximity", function()
        createAdvancedNotification(
            "üéØ SMART AUTO PROXIMITY INFO",
            "Automatically activates ALL proximity prompts EXCEPT:\n‚Ä¢ Wardrobes\n‚Ä¢ Lockers\n‚Ä¢ Hiding spots\n‚Ä¢ Storage furniture\n\nPerfect for speed runs and item collection! No more manual clicking!",
            Color3.fromRGB(0, 255, 255),
            8,
            false
        )
    end, 10, Color3.fromRGB(0, 150, 200))
    
    -- ===== AUTOMATION =====
    createLabel(contentFrame, "ü§ñ AUTOMATION FEATURES", 11)
    
    createToggle(contentFrame, "üì¶ Auto Collect Items", function(enabled)
        if enabled then
            enableAutoCollect()
        else
            disableAutoCollect()
        end
    end, 12)
    
    createToggle(contentFrame, "üíä Infinite Vitamins Effect", function(enabled)
        if enabled then
            enableInfiniteVitamins()
        else
            disableInfiniteVitamins()
        end
    end, 13)
    
    createToggle(contentFrame, "‚ö° Instant Interact (No Hold)", function(enabled)
        if enabled then
            enableInstantInteract()
        else
            disableInstantInteract()
        end
    end, 14)
    
    -- ===== ESP SYSTEM =====
    createLabel(contentFrame, "üëÅÔ∏è ESP VISUALIZATION", 15)
    
    createToggle(contentFrame, "üö™ Door ESP", function(enabled)
        doorEspEnabled = enabled
        if enabled then
            updateAllESP()
        else
            clearAllESP()
        end
    end, 16)
    
    createToggle(contentFrame, "üóùÔ∏è Key ESP", function(enabled)
        keyEspEnabled = enabled
        if enabled then
            updateAllESP()
        else
            clearAllESP()
        end
    end, 17)
    
    createToggle(contentFrame, "üì¶ Item ESP", function(enabled)
        itemEspEnabled = enabled
        if enabled then
            updateAllESP()
        else
            clearAllESP()
        end
    end, 18)
    
    createToggle(contentFrame, "üìö Book ESP (Figure Books)", function(enabled)
        bookEspEnabled = enabled
        if enabled then
            updateAllESP()
        else
            clearAllESP()
        end
    end, 19)
    
    createToggle(contentFrame, "üëπ Entity ESP", function(enabled)
        entityEspEnabled = enabled
        if enabled then
            updateAllESP()
        else
            clearAllESP()
        end
    end, 20)
    
    createToggle(contentFrame, "üë§ Player ESP", function(enabled)
        playerEspEnabled = enabled
        if enabled then
            updateAllESP()
        else
            clearAllESP()
        end
    end, 21)
    
    createButton(contentFrame, "üîÑ Refresh All ESP", function()
        updateAllESP()
        createAdvancedNotification(
            "üîÑ ESP REFRESHED",
            "All ESP systems have been updated!",
            Color3.fromRGB(0, 255, 255),
            3,
            true
        )
    end, 22, Color3.fromRGB(0, 200, 255))
    
    createButton(contentFrame, "üóëÔ∏è Clear All ESP", function()
        doorEspEnabled = false
        keyEspEnabled = false
        itemEspEnabled = false
        bookEspEnabled = false
        entityEspEnabled = false
        playerEspEnabled = false
        clearAllESP()
        createAdvancedNotification(
            "üóëÔ∏è ESP CLEARED",
            "All ESP has been removed!",
            Color3.fromRGB(255, 100, 0),
            3,
            false
        )
    end, 23, Color3.fromRGB(255, 50, 50))
    
    -- ===== NOTIFICATIONS =====
    createLabel(contentFrame, "üîî ENTITY NOTIFICATIONS", 24)
    
    createToggle(contentFrame, "‚ö° Rush/Ambush Alerts", function(enabled)
        rushNotifEnabled = enabled
        setupEntityNotifications()
    end, 25)
    
    createToggle(contentFrame, "üëπ All Entity Alerts", function(enabled)
        allEntityNotifications = enabled
        setupEntityNotifications()
    end, 26)
    
    -- ===== UTILITIES =====
    createLabel(contentFrame, "üîß UTILITIES & EXTRAS", 27)
    
    createButton(contentFrame, "üß™ Test Notification System", function()
        createAdvancedNotification(
            "üß™ NOTIFICATION TEST",
            "The notification system is working perfectly! All systems are operational.",
            Color3.fromRGB(139, 0, 255),
            5,
            true
        )
    end, 28, Color3.fromRGB(139, 0, 255))
    
    createButton(contentFrame, "üìä Show Status Report", function()
        local activeFeatures = 0
        local statusList = ""
        
        if godModeEnabled then activeFeatures = activeFeatures + 1; statusList = statusList .. "‚úÖ God Mode\n" end
        if noclipEnabled then activeFeatures = activeFeatures + 1; statusList = statusList .. "‚úÖ Noclip\n" end
        if fullBrightEnabled then activeFeatures = activeFeatures + 1; statusList = statusList .. "‚úÖ Full Bright\n" end
        if autoProximityEnabled then activeFeatures = activeFeatures + 1; statusList = statusList .. "‚úÖ Auto Proximity\n" end
        if autoCollectEnabled then activeFeatures = activeFeatures + 1; statusList = statusList .. "‚úÖ Auto Collect\n" end
        if infVitaminsEnabled then activeFeatures = activeFeatures + 1; statusList = statusList .. "‚úÖ Infinite Vitamins\n" end
        if doorEspEnabled then activeFeatures = activeFeatures + 1; statusList = statusList .. "‚úÖ Door ESP\n" end
        if keyEspEnabled then activeFeatures = activeFeatures + 1; statusList = statusList .. "‚úÖ Key ESP\n" end
        if entityEspEnabled then activeFeatures = activeFeatures + 1; statusList = statusList .. "‚úÖ Entity ESP\n" end
        
        if statusList == "" then
            statusList = "No features currently active."
        end
        
        createAdvancedNotification(
            "üìä STATUS REPORT",
            "Active Features: " .. activeFeatures .. "/15+\n\n" .. statusList,
            Color3.fromRGB(0, 255, 100),
            8,
            false
        )
    end, 29, Color3.fromRGB(0, 200, 100))
    
    createButton(contentFrame, "üîÑ Rejoin Server", function()
        createAdvancedNotification(
            "üîÑ REJOINING SERVER",
            "Teleporting to the same server...",
            Color3.fromRGB(255, 165, 0),
            3,
            true
        )
        task.wait(1)
        TeleportService:Teleport(game.PlaceId, player)
    end, 30, Color3.fromRGB(255, 165, 0))
    
    createButton(contentFrame, "‚ùå Destroy GUI (Can't Undo)", function()
        createAdvancedNotification(
            "‚ùå DESTROYING GUI",
            "The GUI will be destroyed in 3 seconds. Re-execute the script to bring it back.",
            Color3.fromRGB(255, 0, 0),
            3,
            false
        )
        task.wait(3)
        if MainWindow then
            MainWindow:Destroy()
        end
    end, 31, Color3.fromRGB(200, 0, 0))
    
    -- ===== INFO SECTION =====
    createLabel(contentFrame, "‚ÑπÔ∏è ABOUT WENER HUB v4.0", 32)
    
    local InfoFrame = Instance.new("Frame")
    InfoFrame.Size = UDim2.new(1, -20, 0, 150)
    InfoFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 35)
    InfoFrame.BackgroundTransparency = 0.3
    InfoFrame.BorderSizePixel = 0
    InfoFrame.ZIndex = 10002
    InfoFrame.LayoutOrder = 33
    InfoFrame.Parent = contentFrame
    
    local InfoCorner = Instance.new("UICorner")
    InfoCorner.CornerRadius = UDim.new(0, 10)
    InfoCorner.Parent = InfoFrame
    
    local InfoText = Instance.new("TextLabel")
    InfoText.Size = UDim2.new(1, -20, 1, -20)
    InfoText.Position = UDim2.new(0, 10, 0, 10)
    InfoText.BackgroundTransparency = 1
    InfoText.Text = "üéÆ WENER HUB v4.0 ULTIMATE COMPLETE EDITION\n\n‚ú® All Features Working\nüéØ Smart Auto Proximity\nüëÅÔ∏è Advanced ESP System\nü§ñ Complete Automation\nüëπ Entity Detection\nüì± Mobile & PC Compatible\n\nMade by Wener Team\nManual UI Mode Active"
    InfoText.TextColor3 = Color3.fromRGB(200, 200, 200)
    InfoText.Font = Enum.Font.Gotham
    InfoText.TextSize = 14
    InfoText.TextWrapped = true
    InfoText.TextXAlignment = Enum.TextXAlignment.Left
    InfoText.TextYAlignment = Enum.TextYAlignment.Top
    InfoText.ZIndex = 10003
    InfoText.Parent = InfoFrame
    
    -- Update canvas size
    task.wait(0.1)
    contentFrame.CanvasSize = UDim2.new(0, 0, 0, UILayout.AbsoluteContentSize.Y + 20)
    
    print("‚úÖ Manual UI populated with all features!")
end

-- ============================================================================
-- MOBILE QUICK ACCESS PANEL
-- ============================================================================

local function createMobileQuickAccess()
    local MobileGui = Instance.new("ScreenGui")
    MobileGui.Name = "WenerUltimateMobileQuick"
    MobileGui.ResetOnSpawn = false
    MobileGui.Parent = CoreGui
    MobileGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
    
    local QuickFrame = Instance.new("Frame")
    QuickFrame.Size = UDim2.new(0, 220, 0, 280)
    QuickFrame.Position = UDim2.new(0, 10, 0.5, -140)
    QuickFrame.BackgroundColor3 = Color3.fromRGB(15, 15, 25)
    QuickFrame.BackgroundTransparency = 0.2
    QuickFrame.BorderSizePixel = 0
    QuickFrame.ZIndex = 99998
    QuickFrame.Parent = MobileGui
    
    local Corner = Instance.new("UICorner")
    Corner.CornerRadius = UDim.new(0, 15)
    Corner.Parent = QuickFrame
    
    local Stroke = Instance.new("UIStroke")
    Stroke.Color = Color3.fromRGB(139, 0, 255)
    Stroke.Thickness = 2
    Stroke.Parent = QuickFrame
    
    local Title = Instance.new("TextLabel")
    Title.Size = UDim2.new(1, -15, 0, 35)
    Title.Position = UDim2.new(0, 10, 0, 5)
    Title.BackgroundTransparency = 1
    Title.Text = "‚ö° QUICK ACCESS"
    Title.TextColor3 = Color3.fromRGB(255, 255, 255)
    Title.Font = Enum.Font.GothamBold
    Title.TextSize = 16
    Title.TextXAlignment = Enum.TextXAlignment.Left
    Title.TextStrokeTransparency = 0.5
    Title.ZIndex = 99999
    Title.Parent = QuickFrame
    
    local quickButtons = {
        {name = "üéØ Auto Proximity", callback = function() 
            autoProximityEnabled = not autoProximityEnabled
            if autoProximityEnabled then enableAutoProximity() else disableAutoProximity() end
        end},
        {name = "üì¶ Auto Collect", callback = function() 
            autoCollectEnabled = not autoCollectEnabled
            if autoCollectEnabled then enableAutoCollect() else disableAutoCollect() end
        end},
        {name = "‚ö° Speed x3", callback = function() setSpeed(48) end},
        {name = "üõ°Ô∏è God Mode", callback = function() 
            godModeEnabled = not godModeEnabled
            if godModeEnabled then enableGodMode() else disableGodMode() end
        end},
        {name = "üëª Noclip", callback = function() 
            noclipEnabled = not noclipEnabled
            if noclipEnabled then enableNoclip() else disableNoclip() end
        end},
        {name = "üí° Full Bright", callback = function() 
            fullBrightEnabled = not fullBrightEnabled
            if fullBrightEnabled then enableFullBright() else disableFullBright() end
        end},
        {name = "üëÅÔ∏è All ESP", callback = function() 
            doorEspEnabled = true
            keyEspEnabled = true
            entityEspEnabled = true
            itemEspEnabled = true
            updateAllESP()
        end}
    }
    
    for i, buttonData in pairs(quickButtons) do
        local QuickButton = Instance.new("TextButton")
        QuickButton.Size = UDim2.new(0.95, 0, 0, 32)
        QuickButton.Position = UDim2.new(0.025, 0, 0, 45 + (i-1) * 36)
        QuickButton.BackgroundColor3 = Color3.fromRGB(139, 0, 255)
        QuickButton.BackgroundTransparency = 0.3
        QuickButton.Text = buttonData.name
        QuickButton.TextColor3 = Color3.fromRGB(255, 255, 255)
        QuickButton.Font = Enum.Font.GothamBold
        QuickButton.TextSize = 13
        QuickButton.ZIndex = 99999
        QuickButton.Parent = QuickFrame
        
        local Button
Corner = Instance.new("UICorner")
        ButtonCorner.CornerRadius = UDim.new(0, 8)
        ButtonCorner.Parent = QuickButton
        
        QuickButton.MouseButton1Click:Connect(function()
            QuickButton.BackgroundTransparency = 0
            task.wait(0.1)
            QuickButton.BackgroundTransparency = 0.3
            buttonData.callback()
        end)
    end
    
    -- Collapse button
    local CollapseButton = Instance.new("TextButton")
    CollapseButton.Size = UDim2.new(0, 25, 0, 25)
    CollapseButton.Position = UDim2.new(1, -30, 0, 7)
    CollapseButton.BackgroundColor3 = Color3.fromRGB(255, 165, 0)
    CollapseButton.Text = "‚óÑ"
    CollapseButton.TextColor3 = Color3.fromRGB(255, 255, 255)
    CollapseButton.Font = Enum.Font.GothamBold
    CollapseButton.TextSize = 14
    CollapseButton.ZIndex = 99999
    CollapseButton.Parent = QuickFrame
    
    local CollapseCorner = Instance.new("UICorner")
    CollapseCorner.CornerRadius = UDim.new(0, 12)
    CollapseCorner.Parent = CollapseButton
    
    local collapsed = false
    CollapseButton.MouseButton1Click:Connect(function()
        collapsed = not collapsed
        if collapsed then
            QuickFrame:TweenPosition(UDim2.new(0, -180, 0.5, -140), "Out", "Quad", 0.3, true)
            CollapseButton.Text = "‚ñ∫"
        else
            QuickFrame:TweenPosition(UDim2.new(0, 10, 0.5, -140), "Out", "Quad", 0.3, true)
            CollapseButton.Text = "‚óÑ"
        end
    end)
    
    print("üì± Mobile quick access panel created!")
    return MobileGui
end

-- ============================================================================
-- INITIALIZE COMPLETE SYSTEM
-- ============================================================================

local function initializeCompleteSystem()
    print("üöÄ ========================================")
    print("üöÄ WENER HUB v4.0 ULTIMATE COMPLETE")
    print("üöÄ Starting full initialization...")
    print("üöÄ ========================================")
    
    -- Show loading screen
    print("üì∫ Creating loading screen...")
    local loadingScreen = createLoadingScreen()
    
    -- Wait for loading animation to complete
    task.wait(14)
    
    print("üé® Attempting to load Rayfield UI...")
    
    -- Try Rayfield first
    local rayfieldSuccess = false
    pcall(function()
        local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()
        
        if Rayfield then
            print("‚úÖ Rayfield loaded successfully!")
            rayfieldSuccess = true
            
            local Window = Rayfield:CreateWindow({
                Name = "üéÆ WENER HUB v4.0 ULTIMATE",
                LoadingTitle = "WENER HUB Loading...",
                LoadingSubtitle = "Complete Edition",
                ConfigurationSaving = {
                    Enabled = true,
                    FolderName = "WenerHubUltimate",
                    FileName = "WenerConfig"
                },
                Discord = {
                    Enabled = false,
                    Invite = "noinvite",
                    RememberJoins = true
                },
                KeySystem = false
            })
            
            MainWindow = Window
            
            -- ===== MAIN TAB =====
            local MainTab = Window:CreateTab("‚öôÔ∏è Main Features", 4483362458)
            
            local SpeedSlider = MainTab:CreateSlider({
                Name = "‚ö° Speed Multiplier",
                Range = {1, 10},
                Increment = 0.5,
                Suffix = "x",
                CurrentValue = 1,
                Flag = "SpeedSlider",
                Callback = function(Value)
                    setSpeed(16 * Value)
                end,
            })
            
            local GodModeToggle = MainTab:CreateToggle({
                Name = "üõ°Ô∏è God Mode (Invincibility)",
                CurrentValue = false,
                Flag = "GodModeToggle",
                Callback = function(Value)
                    if Value then
                        enableGodMode()
                    else
                        disableGodMode()
                    end
                end,
            })
            
            local NoclipToggle = MainTab:CreateToggle({
                Name = "üëª Noclip (Walk Through Walls)",
                CurrentValue = false,
                Flag = "NoclipToggle",
                Callback = function(Value)
                    if Value then
                        enableNoclip()
                    else
                        disableNoclip()
                    end
                end,
            })
            
            local FullBrightToggle = MainTab:CreateToggle({
                Name = "üí° Full Bright (Maximum Visibility)",
                CurrentValue = false,
                Flag = "FullBrightToggle",
                Callback = function(Value)
                    if Value then
                        enableFullBright()
                    else
                        disableFullBright()
                    end
                end,
            })
            
            local RespawnButton = MainTab:CreateButton({
                Name = "üîÑ Instant Respawn",
                Callback = function()
                    instantRespawn()
                end,
            })
            
            local TeleportButton = MainTab:CreateButton({
                Name = "üö™ Teleport to Latest Room",
                Callback = function()
                    teleportToLatestRoom()
                end,
            })
            
            MainTab:CreateSection("üéØ Smart Auto Proximity")
            
            local AutoProximityToggle = MainTab:CreateToggle({
                Name = "üéØ Enable Auto Proximity (Smart)",
                CurrentValue = false,
                Flag = "AutoProximityToggle",
                Callback = function(Value)
                    if Value then
                        enableAutoProximity()
                    else
                        disableAutoProximity()
                    end
                end,
            })
            
            local ProximityInfoButton = MainTab:CreateButton({
                Name = "‚ÑπÔ∏è About Auto Proximity",
                Callback = function()
                    createAdvancedNotification(
                        "üéØ SMART AUTO PROXIMITY INFO",
                        "Automatically activates ALL proximity prompts EXCEPT:\n‚Ä¢ Wardrobes\n‚Ä¢ Lockers\n‚Ä¢ Hiding spots\n‚Ä¢ Storage furniture\n\nPerfect for speed runs and item collection!",
                        Color3.fromRGB(0, 255, 255),
                        8,
                        false
                    )
                end,
            })
            
            -- ===== AUTOMATION TAB =====
            local AutoTab = Window:CreateTab("ü§ñ Automation", 4483362458)
            
            local AutoCollectToggle = AutoTab:CreateToggle({
                Name = "üì¶ Auto Collect Items",
                CurrentValue = false,
                Flag = "AutoCollectToggle",
                Callback = function(Value)
                    if Value then
                        enableAutoCollect()
                    else
                        disableAutoCollect()
                    end
                end,
            })
            
            local InfVitaminsToggle = AutoTab:CreateToggle({
                Name = "üíä Infinite Vitamins Effect",
                CurrentValue = false,
                Flag = "InfVitaminsToggle",
                Callback = function(Value)
                    if Value then
                        enableInfiniteVitamins()
                    else
                        disableInfiniteVitamins()
                    end
                end,
            })
            
            local InstantInteractToggle = AutoTab:CreateToggle({
                Name = "‚ö° Instant Interact (No Hold)",
                CurrentValue = false,
                Flag = "InstantInteractToggle",
                Callback = function(Value)
                    if Value then
                        enableInstantInteract()
                    else
                        disableInstantInteract()
                    end
                end,
            })
            
            -- ===== ESP TAB =====
            local ESPTab = Window:CreateTab("üëÅÔ∏è ESP System", 4483362458)
            
            local DoorESPToggle = ESPTab:CreateToggle({
                Name = "üö™ Door ESP",
                CurrentValue = false,
                Flag = "DoorESPToggle",
                Callback = function(Value)
                    doorEspEnabled = Value
                    if Value then
                        updateAllESP()
                    else
                        clearAllESP()
                    end
                end,
            })
            
            local KeyESPToggle = ESPTab:CreateToggle({
                Name = "üóùÔ∏è Key ESP",
                CurrentValue = false,
                Flag = "KeyESPToggle",
                Callback = function(Value)
                    keyEspEnabled = Value
                    if Value then
                        updateAllESP()
                    else
                        clearAllESP()
                    end
                end,
            })
            
            local ItemESPToggle = ESPTab:CreateToggle({
                Name = "üì¶ Item ESP",
                CurrentValue = false,
                Flag = "ItemESPToggle",
                Callback = function(Value)
                    itemEspEnabled = Value
                    if Value then
                        updateAllESP()
                    else
                        clearAllESP()
                    end
                end,
            })
            
            local BookESPToggle = ESPTab:CreateToggle({
                Name = "üìö Book ESP (Figure Books)",
                CurrentValue = false,
                Flag = "BookESPToggle",
                Callback = function(Value)
                    bookEspEnabled = Value
                    if Value then
                        updateAllESP()
                    else
                        clearAllESP()
                    end
                end,
            })
            
            local EntityESPToggle = ESPTab:CreateToggle({
                Name = "üëπ Entity ESP",
                CurrentValue = false,
                Flag = "EntityESPToggle",
                Callback = function(Value)
                    entityEspEnabled = Value
                    if Value then
                        updateAllESP()
                    else
                        clearAllESP()
                    end
                end,
            })
            
            local PlayerESPToggle = ESPTab:CreateToggle({
                Name = "üë§ Player ESP",
                CurrentValue = false,
                Flag = "PlayerESPToggle",
                Callback = function(Value)
                    playerEspEnabled = Value
                    if Value then
                        updateAllESP()
                    else
                        clearAllESP()
                    end
                end,
            })
            
            ESPTab:CreateSection("ESP Controls")
            
            local RefreshESPButton = ESPTab:CreateButton({
                Name = "üîÑ Refresh All ESP",
                Callback = function()
                    updateAllESP()
                    createAdvancedNotification(
                        "üîÑ ESP REFRESHED",
                        "All ESP systems have been updated!",
                        Color3.fromRGB(0, 255, 255),
                        3,
                        true
                    )
                end,
            })
            
            local ClearESPButton = ESPTab:CreateButton({
                Name = "üóëÔ∏è Clear All ESP",
                Callback = function()
                    doorEspEnabled = false
                    keyEspEnabled = false
                    itemEspEnabled = false
                    bookEspEnabled = false
                    entityEspEnabled = false
                    playerEspEnabled = false
                    clearAllESP()
                    createAdvancedNotification(
                        "üóëÔ∏è ESP CLEARED",
                        "All ESP has been removed!",
                        Color3.fromRGB(255, 100, 0),
                        3,
                        false
                    )
                end,
            })
            
            -- ===== NOTIFICATIONS TAB =====
            local NotifTab = Window:CreateTab("üîî Notifications", 4483362458)
            
            local RushNotifToggle = NotifTab:CreateToggle({
                Name = "‚ö° Rush/Ambush Alerts",
                CurrentValue = false,
                Flag = "RushNotifToggle",
                Callback = function(Value)
                    rushNotifEnabled = Value
                    setupEntityNotifications()
                end,
            })
            
            local AllEntityNotifToggle = NotifTab:CreateToggle({
                Name = "üëπ All Entity Alerts",
                CurrentValue = false,
                Flag = "AllEntityNotifToggle",
                Callback = function(Value)
                    allEntityNotifications = Value
                    setupEntityNotifications()
                end,
            })
            
            -- ===== UTILITIES TAB =====
            local UtilTab = Window:CreateTab("üîß Utilities", 4483362458)
            
            local TestNotifButton = UtilTab:CreateButton({
                Name = "üß™ Test Notification System",
                Callback = function()
                    createAdvancedNotification(
                        "üß™ NOTIFICATION TEST",
                        "The notification system is working perfectly! All systems are operational.",
                        Color3.fromRGB(139, 0, 255),
                        5,
                        true
                    )
                end,
            })
            
            local StatusReportButton = UtilTab:CreateButton({
                Name = "üìä Show Status Report",
                Callback = function()
                    local activeFeatures = 0
                    local statusList = ""
                    
                    if godModeEnabled then activeFeatures = activeFeatures + 1; statusList = statusList .. "‚úÖ God Mode\n" end
                    if noclipEnabled then activeFeatures = activeFeatures + 1; statusList = statusList .. "‚úÖ Noclip\n" end
                    if fullBrightEnabled then activeFeatures = activeFeatures + 1; statusList = statusList .. "‚úÖ Full Bright\n" end
                    if autoProximityEnabled then activeFeatures = activeFeatures + 1; statusList = statusList .. "‚úÖ Auto Proximity\n" end
                    if autoCollectEnabled then activeFeatures = activeFeatures + 1; statusList = statusList .. "‚úÖ Auto Collect\n" end
                    if infVitaminsEnabled then activeFeatures = activeFeatures + 1; statusList = statusList .. "‚úÖ Infinite Vitamins\n" end
                    if doorEspEnabled then activeFeatures = activeFeatures + 1; statusList = statusList .. "‚úÖ Door ESP\n" end
                    if keyEspEnabled then activeFeatures = activeFeatures + 1; statusList = statusList .. "‚úÖ Key ESP\n" end
                    if entityEspEnabled then activeFeatures = activeFeatures + 1; statusList = statusList .. "‚úÖ Entity ESP\n" end
                    
                    if statusList == "" then
                        statusList = "No features currently active."
                    end
                    
                    createAdvancedNotification(
                        "üìä STATUS REPORT",
                        "Active Features: " .. activeFeatures .. "/15+\n\n" .. statusList,
                        Color3.fromRGB(0, 255, 100),
                        8,
                        false
                    )
                end,
            })
            
            local RejoinButton = UtilTab:CreateButton({
                Name = "üîÑ Rejoin Server",
                Callback = function()
                    createAdvancedNotification(
                        "üîÑ REJOINING SERVER",
                        "Teleporting to the same server...",
                        Color3.fromRGB(255, 165, 0),
                        3,
                        true
                    )
                    task.wait(1)
                    TeleportService:Teleport(game.PlaceId, player)
                end,
            })
            
            -- ===== INFO TAB =====
            local InfoTab = Window:CreateTab("‚ÑπÔ∏è About", 4483362458)
            
            InfoTab:CreateParagraph({Title = "üéÆ WENER HUB v4.0 ULTIMATE", Content = "Complete Edition with all features working! This script includes:\n\n‚ú® All Features Working\nüéØ Smart Auto Proximity\nüëÅÔ∏è Advanced ESP System\nü§ñ Complete Automation\nüëπ Entity Detection\nüì± Mobile & PC Compatible\n\nUsing Rayfield UI Interface\nMade by Wener Team"})
            
            print("‚úÖ Rayfield UI created successfully!")
            
            -- Show welcome notification
            task.wait(2)
            createAdvancedNotification(
                "üéâ WELCOME TO WENER HUB v4.0!",
                "Ultimate Complete Edition loaded successfully!\n\n‚úÖ Rayfield UI Active\n‚úÖ All Features Ready\n‚úÖ 15+ Features Available\n\nEnjoy your enhanced gameplay!",
                Color3.fromRGB(0, 255, 0),
                10,
                true
            )
        end
    end)
    
    -- If Rayfield failed, use manual UI
    if not rayfieldSuccess then
        print("‚ö†Ô∏è Rayfield failed to load, creating manual UI fallback...")
        isManualUI = true
        
        local manualGui, contentFrame = createManualUI()
        MainWindow = manualGui
        
        populateManualUI(contentFrame)
        
        print("‚úÖ Manual UI system loaded successfully!")
        
        -- Show welcome notification for manual UI
        task.wait(2)
        createAdvancedNotification(
            "üéâ WELCOME TO WENER HUB v4.0!",
            "Ultimate Complete Edition loaded successfully!\n\n‚úÖ Manual UI Active (Rayfield Fallback)\n‚úÖ All Features Ready\n‚úÖ 15+ Features Available\n\nEnjoy your enhanced gameplay!",
            Color3.fromRGB(0, 255, 0),
            10,
            true
        )
    end
    
    -- Create corner logo
    print("üé® Creating corner logo...")
    createCornerLogo()
    
    -- Create mobile quick access
    if UserInputService.TouchEnabled then
        print("üì± Creating mobile quick access panel...")
        createMobileQuickAccess()
    end
    
    print("‚úÖ ========================================")
    print("‚úÖ WENER HUB v4.0 ULTIMATE COMPLETE")
    print("‚úÖ All systems initialized successfully!")
    print("‚úÖ UI Mode: " .. (rayfieldSuccess and "Rayfield" or "Manual Fallback"))
    print("‚úÖ ========================================")
